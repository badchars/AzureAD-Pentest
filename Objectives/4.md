## Objective 4
```powershell
Enumerate the following for the defcorphq tenant using Az PowerShell module using the credentials of test@defcorphq.onmicrosoft.com user:
- All resources visible to the user
- All Azure roles assigned to the user
- Virtual Machines
- App Services
- Function Apps
- Storage Accounts
- Key Vaults
```

- Connect to the target tenant using Az PowerShell.
```powershell
$passwd = ConvertTo-SecureString "SuperS3Cr31PAssw0rd!@l33t" -AsPlainText -Force
$creds = New-Object System.Management.Automation.PSCredential ("test@defcorphq.onmicrosoft.com",$passwd)
Connect-AzAccount -Credential $creds
```

- List all the resources accessible to the current account:
```powershell
Get-AzResource
```

- Get all the role assignments for the test user:
```powershell
Get-AzRoleAssignment -SignInName test@defcorphq.onmicrosoft.com
```

- List all the VMs where the current user has at least the Reader role:
```powershell
 Get-AzVM | fl
 ```

 - List all App Services. We filter on the bases of 'Kind' proper otherwise both appservices and function apps are listed:
 ```powershell
 Get-AzWebApp | ?{$_.Kind -notmatch "functionapp"}
 ```
- List Function Apps
```powershell
 Get-AzFunctionApp
 ```

 - List storage accounts:
 ```powershell
 Get-AzStorageAccount | fl
 ```

 - List the readable keyvaults for the current user:
 ```powershell
  Get-AzKeyVault
  ```